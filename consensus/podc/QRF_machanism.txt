package poDC

/*
합의를 위한 QRF Mechanism
λ	QRF Mechanism: REAP CHAIN에서 합의가 이루어지는 절차는 퀀텀난수와 공개키 암호 그리고 빠른 인식기능을 위한 공개키 해시를 활용하여 이루어진다. 일련의 인증 및 정보전달 체계를 양자확률함수기법(Quantum Random Function Mechanism)이라 명명한다.  QRF는 퀀텀난수 서버(QM서버)를 이용하여 기능적인 요소를 제공한다.  QM서버는 블록체인망에 참여한 모든 노드들의 네트워크 정보, 공개 키를 갖고 있다. QM서버의 네트워크 주소는 모든 노드들에게 공개되어 있으며 체인에 참여하는 노드는 REAP CHAIN에서 지정하는 공개키 암호화를 이용하여 해당 노드의 공개키와 개인키를 생성한 후 개인키는 보관하고 공개키를 QM서버에 등록한다.
QM서버는 암호화된 노드 마스타 테이블을 인메모리 DB형태로 갖고 노드 아이디, 노드 네트워크정보, 공개키, 할당퀀텀난수값을 저장하고 있다. node_master_tb
NODETYPE
TRNO
NODEID
NETINFO
PUBKEY
QRND
상임위,일반구분
해당트랜잭션
아이디
네트워크주소
공개키
할당난수
 - QRF Mechanism의 함수 구성
(1)	QRF_REGISTER(NODEID, PUBKEY): 진입 노드 또는 공개키 갱신 요청을 받은 노드가 QM서버에 접속하여 공개키를 등록한다. 입력: 노드 아이디, 노드의 공개키 출력: 결과 정수값 
(2)	QRF_FINDKEY(NODEID): 노드 아이디를 이용하여 공개키를 획득
입력: 노드 아이디 출력: 노드의 공개키 
(3)	QRF_GENQ(NODEID): 노드에게 퀀텀난수를 할당
입력: 노드 아이디 출력: 퀀텀난수 
(4)	QRF_SLIST(): 현재 블록체인망에 활동중인 모든 상임위의 아이디, 공개키, 네트위크 정보를 담고 있는 노드 인식정보nni를 배열로 리턴함.
입력: None 출력: 활동중인 모든 상임위의 아이디, 네트위크 정보

(5)	QRF_QRLIST(): 현재 블록체인망에 활동중인 모든 일반 노드에서 퀀텀난수를 이용한 확률적 선택 룰을 이용하여 입력 개수에 맞는 운영위 후보들의 노드 인식정보nni를 배열로 리턴함. 입력: 시드, 개수 출력: 활동중인 모든 운영위의 아이디

(6)	QRF_RID(, ): 임의의 노드 가 공개키를 통하여 퀀텀난수를 할당받고 특정노드의 공개키와 네트워크 정보를 인식하게되는 메카니즘과 이를 위한 메시지 생성을 의미한다. 메시지는 노드  인식자로 명명하며 다음과 같은 구조로 표현된다.  입력:  : 노드 의 공개키,  : 노드 의 공개키 출력:  ~ [노드  인식자] : 노드 의 퀀텀난수를 노드 의 공개키로 암호화한 값.  : 노드 의 공개키, 네트워크정보를 노드 의 공개키로 암호화한 값. : 노드 의 공개키 해시값 인식과정은 먼저 를 통하여 자신에게 할당되었음을 해시값 대조를 통하여 즉시 확인하게 된다. 그 다음 개인키를 이용한 복호화를 통해 할당된 퀀텀난수  및 코디네이터 노드의 네트워크 정보(node-net-info, nni)를 입수한다.

(7)	QRF_CID(, ): 노드 가 개의 노드에게 할당된 퀀텀난수값 을 노드 의 공개키로 암호화한 값 과 노드 의 공개키 해시값  와의 접합을 구하는 함수이다. 코디네이터 노드가 각 운영위 후보그룹의 양자난수값을 인식하는 구조를 의미한다.  입력: 노드에게 할당된 퀀텀난수값 , 노드 의 공개키
출력:  ~ [코디 인식자] 각 운영위 후보의 퀀텀난수가 코디의 공개키로 암호화된 값을 접합시킨 퀀텀난수리스트와 선택된 코디네이터의 공개키 해시값으로 이루어 진다.

*/
